# PyRate configuration file for GAMMA-format interferograms
#
#------------------------------------
# input/output parameters

# Directory for the (unwrapped) interferograms.
OBS_DIR:       tests/test_data/small_test/gamma_obs

# File containing the list of interferograms to use.
IFG_FILE_LIST:  tests/test_data/small_test/gamma_obs/ifms_17

# The DEM file used in the InSAR processing
DEM_FILE:      tests/test_data/small_test/gamma_obs/20060619_utm.dem

# The DEM header file from GAMMA (*.par) or ROI_PAC (*.rsc).
DEM_HEADER_FILE: tests/test_data/small_test/gamma_obs/20060619_utm_dem.par

# GAMMA only: The directory containing GAMMA slc.par header files for all epochs
SLC_DIR:   tests/test_data/small_test/gamma_obs

# GAMMA only: File listing the pool of available slc.par header files
SLC_FILE_LIST: tests/test_data/small_test/gamma_obs/headers

# Directory containing the coherence files. If not provided, obsdir will be used.
COH_FILE_DIR:

# File listing the pool of available coherence files.
COH_FILE_LIST:

# Directory to write the outputs to
OUT_DIR:       tests/test_data/out

# InSAR processing software: ROI_PAC = 0, GAMMA = 1, GEOTIFF = 2
PROCESSOR:    1

# No data averaging threshold for prepifg
NO_DATA_AVERAGING_THRESHOLD: 0.5

# The no data value in the interferograms
NO_DATA_VALUE:  0.0

# Nan conversion flag. Set to 1 if missing (0) phase values are converted to nan
NAN_CONVERSION: 1

#-----------------------------------
# Multi-threading parameters: used by linrate/timeseries/prepifg
# gamma prepifg runs in PARALLEL on a single machine if PARALLEL != 0
# PARALLEL = 1, linrate/timeseries computation is done in PARALLEL by rows
# PARALLEL = 2, linrate/timeseries computation is done in PARALLEL for each pixel
# PARALLEL = 0, linrate/timeseries computation is done in serial pixel by pixel
PARALLEL:  0
PROCESSES: 8

#------------------------------------
# Coherence masking options: used by process
# COH_MASK: 1 = ON, 0 = OFF
# COH_THRESH: coherence threshold value, between 0 and 1
COH_MASK:   0
COH_THRESH:  0.1

#------------------------------------
# Interferogram multi-look and crop options
# IFG_CROP_OPT: 1 = minimum 2 = maximum 3 = customise 4 = all ifms already same size
# IFG_LKSX/y: multi-look/subsampling factor in east and north direction respectively
# IFG_XFIRST,IFG_YFIRST: x,y of top-left corner
# IFG_XLAST,IFG_YLAST: x,y of bottom-right corner
IFG_CROP_OPT:   4
IFG_LKSX:      1
IFG_LKSY:      1
IFG_XFIRST:    150.92
IFG_XLAST:     150.94
IFG_YFIRST:    -34.18
IFG_YLAST:     -34.22

#------------------------------------
# Reference pixel search options
# REFX/Y: Lon/Lat coordinate of reference pixel. If left blank then search for best pixel will be performed
# REFNX/Y: number of search grid points in x/y direction
# REF_CHIP_SIZE: chip size of the data window at each search grid point
# REF_MIN_FRAC: minimum fraction of valid (non-NaN) pixels in the data window
REFX:
REFY:
REFNX:         5
REFNY:         5
REF_CHIP_SIZE:   5
REF_MIN_FRAC:    0.01

#------------------------------------
# Reference phase calculation method
# REF_EST_METHOD: 1 = median of the whole interferogram
# REF_EST_METHOD: 2 = median within the window surrounding the chosen reference pixel
REF_EST_METHOD:        2

#------------------------------------
# Orbital error correction
# ORBITAL_FIT: ON = 1, OFF = 0
# ORBITAL_FIT_METHOD = 1: independent method; 2: network method
# ORBITAL_FIT_DEGREE: Degree of polynomial surface to fit (1 = planar; 2 = quadratic; 3 = part-cubic)
# ORBITAL_FIT_LOOKS_X/Y: additional multi-look factor for orbital correction
ORBITAL_FIT:        1
ORBITAL_FIT_METHOD:  1
ORBITAL_FIT_DEGREE: 1
ORBITAL_FIT_LOOKS_X:    1
ORBITAL_FIT_LOOKS_Y:    1

#------------------------------------
# APS correction using spatio-temporal filter
# APSEST: ON = 1, OFF = 0
# Spatial low-pass filter parameters
# SLPF_METHOD: filter method (1: butterworth; 2: gaussian)
# SLPF_CUTOFF: cutoff d0 (greater than zero) in km for both butterworth and gaussian filters
# SLPF_ORDER: order n for butterworth filter (default 1)
# SLPF_NANFILL: 1 for interpolation, 0 for zero fill
# SLPF_NANFILL_METHOD: linear=1, nearest=2, cubic=3; only used when SLPF_NANFILL=1
# Temporal low-pass filter parameters
# TLPF_METHOD: 1 = Gaussian, 2 = Triangular, 3 = Mean filter
# TLPF_CUTOFF: cutoff t0 for gaussian filter in year;
# TLPF_PTHR: valid pixel threshold;
APSEST:         1
SLPF_METHOD:     2
SLPF_CUTOFF:     0.001
SLPF_ORDER:      1
SLPF_NANFILL:     1
SLPF_NANFILL_METHOD:  cubic
TLPF_METHOD:   3
TLPF_CUTOFF:   0.25
TLPF_PTHR:     1

#------------------------------------
# Time Series Calculation
# TIME_SERIES_CAL: YES = 1, NO = 0
# TIME_SERIES_METHOD: Method for time series inversion (1 = Laplacian Smoothing; 2 = SVD)
# TIME_SERIES_SM_ORDER: order of Laplacian smoothing operator (1 =  first-order difference; 2 = second-order difference)
# TIME_SERIES_SM_FACTOR: smoothing factor for Laplacian smoothing (value provided is converted as 10**TIME_SERIES_SM_FACTOR)
# TIME_SERIES_PTHRESH: valid observations threshold for time series inversion
TIME_SERIES_CAL:         1
TIME_SERIES_METHOD:      2
TIME_SERIES_SM_ORDER:       2
TIME_SERIES_SM_FACTOR:     -0.25
TIME_SERIES_PTHRESH:       10

#------------------------------------
# Stacking calculation
# LR_PTHRESH: minimum number of coherent ifg connections for each pixel
# LR_NSIG: n-sigma used as residuals threshold for iterativel least squares stacking
# LR_MAXSIG: maximum residual used as a threshold for values in the rate map
LR_NSIG:          3
LR_PTHRESH:          5
LR_MAXSIG:        2

#------------------------------------
# Sub-Divide interferogram
# Give a row and colum to Sub-Divide interferogram. Must be same as number of rows used previously in main-workflow.
# SUB_ROW: a positive int, divide ifgs into this many rows, Number of sub-tiles in y direction.
# SUB_COL: a positive int, divide ifgs into this many cols, Number of sub-tiles in x direction.
SUB_ROW:          4
SUB_COL:          4



